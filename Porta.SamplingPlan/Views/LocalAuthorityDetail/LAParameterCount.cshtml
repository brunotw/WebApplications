@model IW.Eims.SamplingPlan.Models.DWSamplingPlan

<div class="panel panel-default">
    <table id="parametersTable" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>
                    Name
                </th>
                <th>
                    Jan
                </th>
                <th>
                    Feb
                </th>
                <th>
                    Mar
                </th>
                <th>
                    Apr
                </th>
                <th>
                    May
                </th>
                <th>
                    Jun
                </th>
                <th>
                    Jul
                </th>
                <th>
                    Aug
                </th>
                <th>
                    Sep
                </th>
                <th>
                    Oct
                </th>
                <th>
                    Nov
                </th>
                <th>
                    Dec
                </th>
                <th>
                    Total
                </th>
                <th>
                    Total Group A
                </th>
                <th>
                    Total Group B
                </th>
            </tr>
        </thead>

        <tbody>
            @foreach (var item in Model.ParameterCount)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>

                    @foreach (var m in item.MonthlyCounts.GroupBy(m => m.Month))
                    {
                        <td>@m.Sum(x => x.Total)</td>
                    }

                    <td>
                        @Html.DisplayFor(modelItem => item.Total)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TotalGroupA)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TotalGroupB)
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>


<script>
    $(document).ready(function ($) {
        $('#parametersTable').DataTable();
    });
</script>